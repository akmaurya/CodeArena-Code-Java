/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
/*
 * sell_master.java
 ** Created on Apr 9, 2014, 4:30:49 PM**/
package giftcorner;
import java.math.BigDecimal;
import java.sql.*;
import java.text.SimpleDateFormat;
import javax.swing.JOptionPane;
/**
 *
 * @author user3
 */
public class sell_master extends javax.swing.JInternalFrame {
    /** Creates new form sell_master */
        public sell_master() {
        initComponents();
        jTextField6.setVisible(false);
        String head[]={"Sl no.","Item Cat","Item Name","Barcode","Batch No","MF. Date","Exp. Date","Qty","M.R.P","Total"};
        dtm=new javax.swing.table.DefaultTableModel(head,0);
        javax.swing.table.DefaultTableCellRenderer CRLeft = new javax.swing.table.DefaultTableCellRenderer();
        javax.swing.table.DefaultTableCellRenderer CRRight = new javax.swing.table.DefaultTableCellRenderer();
        javax.swing.table.DefaultTableCellRenderer CRCenter = new javax.swing.table.DefaultTableCellRenderer();
        CRLeft.setHorizontalAlignment(javax.swing.JLabel.LEFT);
        CRRight.setHorizontalAlignment(javax.swing.JLabel.RIGHT);
        CRCenter.setHorizontalAlignment(javax.swing.JLabel.CENTER);
        jTable1.setModel(dtm);
        javax.swing.table.TableColumn column;
        column=jTable1.getColumn("Sl no.");
        column.setCellRenderer(CRCenter);
        column=jTable1.getColumn("Item Cat");
        column.setCellRenderer(CRCenter);
        column=jTable1.getColumn("Item Name");
        column.setCellRenderer(CRCenter);
        column=jTable1.getColumn("Barcode");
        column.setCellRenderer(CRCenter);
        column=jTable1.getColumn("Batch No");
        column.setCellRenderer(CRCenter);
        column=jTable1.getColumn("MF. Date");
        column.setPreferredWidth(100);
        column.setCellRenderer(CRCenter);
        column=jTable1.getColumn("Exp. Date");
        column.setPreferredWidth(100);
        column.setCellRenderer(CRCenter);
        column=jTable1.getColumn("Qty");
        //column.setPreferredWidth(60);
        column.setCellRenderer(CRRight);
        column=jTable1.getColumn("M.R.P");
        column.setCellRenderer(CRRight);
        column=jTable1.getColumn("Total");
        column.setCellRenderer(CRRight);
        SimpleDateFormat date=new SimpleDateFormat("dd-MM-yyyy");
        jXDatePicker1.setFormats(date);
        jXDatePicker1.setDate(new java.util.Date());
        //jComboBox4.addItem("SELECT");
        //jComboBox5.addItem("SELECT");
       String party[]={"SALE","CASH"};
       for(int i=0;i<party.length;i++)
       {
            jComboBox1.addItem(party[i]);
        }       
       Connection cn;
       Statement stat,stat1,bill;
       ResultSet resu,resu1,res1;
       try{
           Class.forName("com.mysql.jdbc.Driver");
           cn=DriverManager.getConnection("jdbc:mysql://localhost/GiftCorner?user=GiftCorner&password=corner");
           stat=cn.createStatement();
           resu=stat.executeQuery("select ac_nm from ac_details where gp_nm='SALE'");
           while(resu.next()==true)
            {
              jComboBox2.addItem(resu.getString("ac_nm"));
              }
           stat.close();
           resu.close();
           stat1=cn.createStatement();
           //jComboBox3.addItem("SELECT");
           resu1=stat1.executeQuery("select cat_nm from cat_master");
           while(resu1.next()==true)
           {
                jComboBox3.addItem(resu1.getString("cat_nm"));
                }
           bill=cn.createStatement();
           res1=bill.executeQuery("select bill_no from sell_summary");
           while(res1.next()==true)
           {
               billno=res1.getInt("bill_no");
               }
                    billno=billno+1;
                    jTextField1.setText(""+billno);
       }catch(Exception ex){System.out.println("Error ..... "+ex);} 
    }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jXDatePicker1 = new org.jdesktop.swingx.JXDatePicker();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jComboBox1 = new javax.swing.JComboBox();
        jLabel3 = new javax.swing.JLabel();
        jComboBox2 = new javax.swing.JComboBox();
        jLabel4 = new javax.swing.JLabel();
        jTextField1 = new javax.swing.JTextField();
        jSeparator1 = new javax.swing.JSeparator();
        jSeparator2 = new javax.swing.JSeparator();
        jSeparator3 = new javax.swing.JSeparator();
        jPanel2 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        jTextField5 = new javax.swing.JTextField();
        jLabel26 = new javax.swing.JLabel();
        jLabel28 = new javax.swing.JLabel();
        jLabel29 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jComboBox3 = new javax.swing.JComboBox();
        jLabel6 = new javax.swing.JLabel();
        jComboBox4 = new javax.swing.JComboBox();
        jLabel8 = new javax.swing.JLabel();
        jTextField3 = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        jTextField4 = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();
        jLabel27 = new javax.swing.JLabel();
        jTextField6 = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        jComboBox5 = new javax.swing.JComboBox();
        jLabel7 = new javax.swing.JLabel();
        jTextField2 = new javax.swing.JTextField();

        setClosable(true);
        setIconifiable(true);
        setTitle("Sell ");

        jPanel1.setBackground(new java.awt.Color(14, 166, 73));
        jPanel1.setLayout(null);

        jXDatePicker1.setToolTipText("select date ");
        jXDatePicker1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jXDatePicker1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jXDatePicker1ActionPerformed(evt);
            }
        });
        jXDatePicker1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jXDatePicker1KeyPressed(evt);
            }
        });
        jPanel1.add(jXDatePicker1);
        jXDatePicker1.setBounds(90, 30, 106, 22);

        jLabel1.setText("Sale Date ");
        jPanel1.add(jLabel1);
        jLabel1.setBounds(20, 30, 70, 20);

        jLabel2.setText("Type");
        jPanel1.add(jLabel2);
        jLabel2.setBounds(260, 30, 40, 20);

        jComboBox1.setToolTipText(" select sell type");
        jComboBox1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jComboBox1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jComboBox1MouseClicked(evt);
            }
        });
        jComboBox1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox1ActionPerformed(evt);
            }
        });
        jComboBox1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jComboBox1KeyPressed(evt);
            }
        });
        jPanel1.add(jComboBox1);
        jComboBox1.setBounds(300, 30, 100, 20);

        jLabel3.setText("Party Name ");
        jPanel1.add(jLabel3);
        jLabel3.setBounds(450, 30, 70, 20);

        jComboBox2.setToolTipText(" select party name");
        jComboBox2.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jComboBox2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox2ActionPerformed(evt);
            }
        });
        jComboBox2.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jComboBox2KeyPressed(evt);
            }
        });
        jPanel1.add(jComboBox2);
        jComboBox2.setBounds(530, 30, 120, 20);

        jLabel4.setText("Bill No.");
        jPanel1.add(jLabel4);
        jLabel4.setBounds(750, 30, 50, 20);

        jTextField1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextField1.setToolTipText("bill no.");
        jTextField1.setCursor(new java.awt.Cursor(java.awt.Cursor.TEXT_CURSOR));
        jTextField1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField1KeyPressed(evt);
            }
        });
        jPanel1.add(jTextField1);
        jTextField1.setBounds(810, 30, 100, 20);
        jPanel1.add(jSeparator1);
        jSeparator1.setBounds(0, 80, 0, 2);
        jPanel1.add(jSeparator2);
        jSeparator2.setBounds(0, 70, 940, 20);

        jSeparator3.setOrientation(javax.swing.SwingConstants.VERTICAL);
        jPanel1.add(jSeparator3);
        jSeparator3.setBounds(150, 70, 10, 550);

        jPanel2.setBackground(new java.awt.Color(51, 153, 0));
        jPanel2.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jPanel2.setLayout(null);

        jScrollPane1.setBackground(new java.awt.Color(255, 204, 153));

        jTable1.setBackground(new java.awt.Color(204, 255, 204));
        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jTable1.setToolTipText("record data ");
        jTable1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jTable1.setRowHeight(20);
        jScrollPane1.setViewportView(jTable1);

        jPanel2.add(jScrollPane1);
        jScrollPane1.setBounds(10, 10, 750, 170);

        jLabel15.setText("Total Ammount ");
        jPanel2.add(jLabel15);
        jLabel15.setBounds(560, 190, 90, 20);

        jLabel16.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel16.setText("00.00");
        jLabel16.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        jPanel2.add(jLabel16);
        jLabel16.setBounds(680, 190, 70, 20);

        jLabel17.setText("Discount");
        jPanel2.add(jLabel17);
        jLabel17.setBounds(560, 220, 80, 20);

        jLabel18.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel18.setText("00.00");
        jPanel2.add(jLabel18);
        jLabel18.setBounds(680, 220, 70, 20);

        jLabel19.setText("Net Amount ");
        jPanel2.add(jLabel19);
        jLabel19.setBounds(560, 250, 80, 20);

        jLabel20.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel20.setText("00.00");
        jPanel2.add(jLabel20);
        jLabel20.setBounds(680, 250, 70, 20);

        jLabel21.setText("R/O");
        jPanel2.add(jLabel21);
        jLabel21.setBounds(560, 280, 60, 20);

        jLabel22.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel22.setText("00.00");
        jPanel2.add(jLabel22);
        jLabel22.setBounds(680, 280, 70, 20);

        jLabel23.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/rupya.png"))); // NOI18N
        jLabel23.setText("Payble Amount ");
        jLabel23.setHorizontalTextPosition(javax.swing.SwingConstants.LEFT);
        jPanel2.add(jLabel23);
        jLabel23.setBounds(560, 310, 110, 20);

        jLabel24.setBackground(new java.awt.Color(204, 204, 255));
        jLabel24.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel24.setText("00.00");
        jLabel24.setOpaque(true);
        jPanel2.add(jLabel24);
        jLabel24.setBounds(680, 310, 70, 20);

        jLabel25.setText("Discount ");
        jPanel2.add(jLabel25);
        jLabel25.setBounds(360, 220, 60, 20);

        jTextField5.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextField5.setText("00.00");
        jTextField5.setToolTipText(" enter discount in persentage");
        jTextField5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField5ActionPerformed(evt);
            }
        });
        jTextField5.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextField5FocusGained(evt);
            }
        });
        jTextField5.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField5KeyPressed(evt);
            }
        });
        jPanel2.add(jTextField5);
        jTextField5.setBounds(420, 220, 70, 20);

        jLabel26.setText("%");
        jPanel2.add(jLabel26);
        jLabel26.setBounds(500, 220, 20, 20);

        jLabel28.setText("Available Item Quantity ");
        jPanel2.add(jLabel28);
        jLabel28.setBounds(10, 200, 140, 20);

        jLabel29.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel29.setText("00.00");
        jPanel2.add(jLabel29);
        jLabel29.setBounds(160, 200, 50, 20);

        jPanel1.add(jPanel2);
        jPanel2.setBounds(160, 80, 770, 370);

        jLabel5.setText("Item Category");
        jPanel1.add(jLabel5);
        jLabel5.setBounds(10, 150, 100, 20);

        jComboBox3.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jComboBox3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox3ActionPerformed(evt);
            }
        });
        jComboBox3.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jComboBox3KeyPressed(evt);
            }
        });
        jPanel1.add(jComboBox3);
        jComboBox3.setBounds(10, 170, 130, 20);

        jLabel6.setText("Item Name ");
        jPanel1.add(jLabel6);
        jLabel6.setBounds(10, 210, 100, 20);

        jComboBox4.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jComboBox4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox4ActionPerformed(evt);
            }
        });
        jComboBox4.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jComboBox4KeyPressed(evt);
            }
        });
        jPanel1.add(jComboBox4);
        jComboBox4.setBounds(10, 230, 130, 20);

        jLabel8.setText("Quantity ");
        jPanel1.add(jLabel8);
        jLabel8.setBounds(10, 320, 80, 20);

        jTextField3.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextField3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField3ActionPerformed(evt);
            }
        });
        jTextField3.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField3KeyPressed(evt);
            }
        });
        jPanel1.add(jTextField3);
        jTextField3.setBounds(10, 340, 80, 20);

        jLabel9.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/rupya.png"))); // NOI18N
        jLabel9.setText("M.R.P");
        jLabel9.setHorizontalTextPosition(javax.swing.SwingConstants.LEFT);
        jPanel1.add(jLabel9);
        jLabel9.setBounds(10, 370, 80, 20);

        jTextField4.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextField4.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField4KeyPressed(evt);
            }
        });
        jPanel1.add(jTextField4);
        jTextField4.setBounds(10, 390, 130, 20);

        jLabel11.setText("Manufacturing Date");
        jPanel1.add(jLabel11);
        jLabel11.setBounds(10, 420, 130, 20);

        jLabel12.setBackground(new java.awt.Color(204, 204, 255));
        jLabel12.setText("MONTH-YEAR");
        jLabel12.setOpaque(true);
        jPanel1.add(jLabel12);
        jLabel12.setBounds(10, 440, 130, 20);

        jLabel13.setText("Expiry Date");
        jPanel1.add(jLabel13);
        jLabel13.setBounds(10, 470, 110, 20);

        jLabel14.setBackground(new java.awt.Color(204, 204, 255));
        jLabel14.setText("MONTH-YEAR");
        jLabel14.setOpaque(true);
        jPanel1.add(jLabel14);
        jLabel14.setBounds(10, 490, 130, 20);

        jButton1.setForeground(new java.awt.Color(255, 255, 255));
        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button.png"))); // NOI18N
        jButton1.setText("Add");
        jButton1.setToolTipText("enter data");
        jButton1.setBorderPainted(false);
        jButton1.setContentAreaFilled(false);
        jButton1.setFocusPainted(false);
        jButton1.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton1.setPressedIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button2.png"))); // NOI18N
        jButton1.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button1.png"))); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton1);
        jButton1.setBounds(20, 530, 120, 50);

        jButton2.setForeground(new java.awt.Color(255, 255, 255));
        jButton2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/green button.png"))); // NOI18N
        jButton2.setText("Save");
        jButton2.setToolTipText("save data");
        jButton2.setBorderPainted(false);
        jButton2.setContentAreaFilled(false);
        jButton2.setFocusPainted(false);
        jButton2.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton2.setPressedIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/green button2.png"))); // NOI18N
        jButton2.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/green button1.png"))); // NOI18N
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton2);
        jButton2.setBounds(240, 500, 120, 50);

        jButton3.setForeground(new java.awt.Color(255, 255, 255));
        jButton3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button.png"))); // NOI18N
        jButton3.setText("Refresh");
        jButton3.setToolTipText("refresh window");
        jButton3.setBorderPainted(false);
        jButton3.setContentAreaFilled(false);
        jButton3.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton3.setFocusPainted(false);
        jButton3.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton3.setPressedIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button2.png"))); // NOI18N
        jButton3.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button1.png"))); // NOI18N
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton3);
        jButton3.setBounds(480, 500, 120, 50);

        jButton4.setForeground(new java.awt.Color(255, 255, 255));
        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button.png"))); // NOI18N
        jButton4.setText("Cancel");
        jButton4.setToolTipText(" exit");
        jButton4.setBorderPainted(false);
        jButton4.setContentAreaFilled(false);
        jButton4.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton4.setFocusPainted(false);
        jButton4.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton4.setPressedIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button2.png"))); // NOI18N
        jButton4.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/blue button1.png"))); // NOI18N
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton4);
        jButton4.setBounds(720, 500, 110, 50);

        jLabel27.setText("unit");
        jPanel1.add(jLabel27);
        jLabel27.setBounds(100, 340, 40, 20);

        jTextField6.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField6KeyPressed(evt);
            }
        });
        jPanel1.add(jTextField6);
        jTextField6.setBounds(530, 30, 120, 20);

        jLabel10.setText("Batch No");
        jPanel1.add(jLabel10);
        jLabel10.setBounds(10, 260, 70, 20);

        jComboBox5.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jComboBox5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox5ActionPerformed(evt);
            }
        });
        jComboBox5.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jComboBox5KeyPressed(evt);
            }
        });
        jPanel1.add(jComboBox5);
        jComboBox5.setBounds(10, 280, 130, 20);

        jLabel7.setText("Barcode ");
        jPanel1.add(jLabel7);
        jLabel7.setBounds(10, 90, 90, 20);

        jTextField2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField2ActionPerformed(evt);
            }
        });
        jTextField2.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField2KeyPressed(evt);
            }
        });
        jPanel1.add(jTextField2);
        jTextField2.setBounds(10, 110, 130, 20);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 936, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 589, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jComboBox5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox5ActionPerformed
        // TODO add your handling code here:
        String st=""+jComboBox5.getSelectedItem();
        if(st.equals("SELECT")==true)
        {
          jLabel29.setText("00.00");
            }
    else{
        Connection cn;
        Statement stat,item_cd,qty;
        ResultSet res,res1,res2;
        try{
           Class.forName("com.mysql.jdbc.Driver");
           cn=DriverManager.getConnection("jdbc:mysql://localhost/GiftCorner?user=GiftCorner&password=corner");
           stat=cn.createStatement();
           res=stat.executeQuery("select mfd,exp from pur_summary where item_nm='"+jComboBox4.getSelectedItem()+"'and btch_no='"+st+"'");
            if(res.next()==true)
            {  jLabel12.setText(res.getString("mfd"));
               jLabel14.setText(res.getString("exp"));
              //jComboBox2.addItem(res.getString("ac_nm"));
              }
           item_cd=cn.createStatement();
           qty=cn.createStatement();
           res1=item_cd.executeQuery("select item_cd from item_mstr where item_nm='"+jComboBox4.getSelectedItem()+"'");
           if(res1.next()==true)
           {
               res2=qty.executeQuery("select item_qty from item_stock where item_cd="+res1.getInt("item_cd")+" and batch_no='"+st+"'");
               if(res2.next()==true)
               {
                   jLabel29.setText(""+res2.getDouble("item_qty"));
                    }
                    }
           stat.close();
           res.close();
           }catch(Exception ex){System.out.println("Error in serch mfd and exp..... "+ex);}
        }

}//GEN-LAST:event_jComboBox5ActionPerformed
    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField2ActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_jTextField2ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        int row=dtm.getRowCount();
        if(row==0)
        {
            javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+" please Enter data first","Error.",JOptionPane.ERROR_MESSAGE);
            jTextField2.requestFocus();
            }
 else{

        int col=dtm.getColumnCount();
        String data[]=new String[10];
        String itnm="";
        Connection cn;
        Statement st,st1,upd,upd1,ins;
        ResultSet res,res1;
        int nub=Integer.valueOf(jTextField1.getText());
        int date=jXDatePicker1.getDate().getDate();
                  int month=01+jXDatePicker1.getDate().getMonth();
                  int year=1900+jXDatePicker1.getDate().getYear();
                  String date1=""+year+"-"+month+"-"+date;
        try{
           Class.forName("com.mysql.jdbc.Driver");
           cn=DriverManager.getConnection("jdbc:mysql://localhost/GiftCorner?user=GiftCorner&password=corner");
           st=cn.createStatement();
           st1=cn.createStatement();
           upd=cn.createStatement();
           ins=cn.createStatement();
           upd1=cn.createStatement();
           boolean t=jComboBox2.isVisible();
           if(t==true)
           {
               ins.executeUpdate("insert into sell_detail values("+billno+",'"+date1+"','"+jComboBox2.getSelectedItem()+"','"+jComboBox1.getSelectedItem()+"',"+Double.valueOf(jLabel16.getText())+","+Double.valueOf(jTextField5.getText())+","+Double.valueOf(jLabel18.getText())+","+Double.valueOf(jLabel20.getText())+","+Double.valueOf(jLabel22.getText())+","+Double.valueOf(jLabel24.getText())+")");
                }
           else
           {
                ins.executeUpdate("insert into sell_detail values("+billno+",'"+date1+"','"+jTextField6.getText()+"','"+jComboBox1.getSelectedItem()+"',"+Double.valueOf(jLabel16.getText())+","+Double.valueOf(jTextField5.getText())+","+Double.valueOf(jLabel18.getText())+","+Double.valueOf(jLabel20.getText())+","+Double.valueOf(jLabel22.getText())+","+Double.valueOf(jLabel24.getText())+")");
                }
           
           for (int i=0;i<row;i++)
           {
               for (int j=0;j<col;j++)
               {
                    data[j]=""+jTable1.getValueAt(i,j);
                    }
            //System.out.println("insert into sell_summary values("+nub+",'"+data[1]+"','"+data[2]+"','"+data[3]+"','"+data[4]+"','"+data[5]+"','"+data[6]+"',"+Double.valueOf(data[7])+","+Double.valueOf(data[8])+","+Double.valueOf(data[9])+")");
            upd1.executeUpdate("insert into sell_summary values("+nub+",'"+data[1]+"','"+data[2]+"','"+data[3]+"','"+data[4]+"','"+data[5]+"','"+data[6]+"',"+Double.valueOf(data[7])+","+Double.valueOf(data[8])+","+Double.valueOf(data[9])+")");
           // System.out.println("line clear");
             }
           for(int i=0;i<row;i++)
            {
               itnm=""+jTable1.getValueAt(i,2);
               //System.out.println(itnm);
                res=st.executeQuery("select item_cd from item_mstr where item_nm='"+jTable1.getValueAt(i,2)+"'");
                 if(res.next()==true)
                 {
                   // System.out.println(""+res.getInt("item_cd"));
                    res1=st1.executeQuery("select item_qty from item_stock where item_cd="+res.getInt("item_cd")+" and batch_no='"+jTable1.getValueAt(i,4)+"'");
                    if(res1.next()==true)
                    {
                        double qty=res1.getDouble("item_qty");
                        //System.out.println("Quantity ** "+qty);
                        double qty1=Double.valueOf(""+jTable1.getValueAt(i,7));
                        double re=qty-qty1;
                        upd.executeUpdate("update item_stock set item_qty="+re+" where item_cd="+res.getInt("item_cd")+" and batch_no='"+jTable1.getValueAt(i,4)+"'");
                        //System.out.println("qty="+qty+"****"+"qty2=="+qty1+"\n result=="+re);
                        }
                    }
                }
           //st.close();
           //res.close();
       }catch(Exception ex){System.out.println("Error in save ..... "+ex);}
   }
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        // TODO add your handling code here:
        this.dispose();
    }//GEN-LAST:event_jButton4ActionPerformed

    private void jComboBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox1ActionPerformed
        // TODO add your handling code here:
        String tes="";
        tes=""+jComboBox1.getSelectedItem();
        if(tes.equals("CASH")==true)
        {
             jComboBox2.setVisible(false);
            jTextField6.setVisible(true);
            //jTextField6.requestFocus();
            //jtf.requestFocus();
            //jtf.selectAll();
            }
        else
        {
            jTextField6.setVisible(false);
            jComboBox2.setVisible(true);
            //jComboBox2.requestFocus();
            }
       // System.out.println("Line 1");
    }//GEN-LAST:event_jComboBox1ActionPerformed

    private void jComboBox4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox4ActionPerformed
        // TODO add your handling code here:
        String item=""+jComboBox4.getSelectedItem();       
        if(item.equals("SELECT")==false)
        {
            // System.out.println("line** "+item);
            //jComboBox5.removeAllItems();
           //int n=0;
        Connection con;
        Statement st,st1,st2;
        ResultSet res,res1,res2;
        try {
            Class.forName("com.mysql.jdbc.Driver").newInstance();
            con=DriverManager.getConnection("jdbc:mysql://localhost/GiftCorner?user=GiftCorner&password=corner");
            st=con.createStatement();
            res= st.executeQuery("Select unit,mrp from item_mstr where item_nm='"+item+"'");
            if(res.next()==true)
            {
             jLabel27.setText(res.getString("unit").toLowerCase());
             jTextField4.setText(""+res.getDouble("mrp"));
              }
                res.close();
                st.close();
                st1=con.createStatement();
                st2=con.createStatement();
                res1=st1.executeQuery("select item_cd from item_mstr where item_nm='"+item+"'");
                if(res1.next()==true)
                {
                    n=res1.getInt("item_cd");
                    res2=st2.executeQuery("select batch_no from item_stock where item_cd="+res1.getInt("item_cd"));
                    jComboBox5.removeAllItems();
                    jComboBox5.addItem("SELECT");
                    while(res2.next()==true)
                        {
                            jComboBox5.addItem(res2.getString("batch_no"));
                            }
                }                
                //System.out.println("."+n);
              }catch(Exception ex){System.out.println("error in find unit "+ex);}
        }
 else{
            jComboBox5.removeAllItems();
            jComboBox5.addItem("SELECT");
        }
 
    }//GEN-LAST:event_jComboBox4ActionPerformed

    private void jComboBox3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox3ActionPerformed
        // TODO add your handling code here:
        String item=""+jComboBox3.getSelectedItem();
        String item_cd="";
        Connection con;
        Statement st,st1 = null;
        ResultSet res,res1;
         int cd=0;
           try {
            Class.forName("com.mysql.jdbc.Driver").newInstance();
            con=DriverManager.getConnection("jdbc:mysql://localhost/GiftCorner?user=GiftCorner&password=corner");
            if("ALL".equals(item)==true)
            {                
              st=con.createStatement();
              res=st.executeQuery("select item_nm from item_mstr");
              jComboBox4.removeAllItems();
              jComboBox4.addItem("SELECT");
              while(res.next()==true)
                {
                   jComboBox4.addItem(res.getString(1));
                     }
                  }
                else{
                   st1=con.createStatement();
                   res1=st1.executeQuery("select cat_cd from cat_master where cat_nm='"+item+"'");
                   if(res1.next()==true)
                        {
                            cd=res1.getInt("cat_cd");
                           }
                            st1.close();
                            res1.close();
                    st=con.createStatement();
                    res=st.executeQuery("select item_nm from item_mstr where cat_cd="+cd+"");
                    jComboBox4.removeAllItems();
                    jComboBox4.addItem("SELECT");
                    while(res.next()==true)
                     {
                        jComboBox4.addItem(res.getString(1));
                    }
                    st.close();
                    res.close();
                    con.close();
                }
        }catch(Exception ex) {System.out.println("error in item cat  "+ex); }
    }//GEN-LAST:event_jComboBox3ActionPerformed

    private void jComboBox1KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBox1KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            String tes="";
        tes=""+jComboBox1.getSelectedItem();
        if(tes.equals("CASH")==true)
        {
             jComboBox2.setVisible(false);
            jTextField6.setVisible(true);
            jTextField6.requestFocus();
            //jtf.requestFocus();
            //jtf.selectAll();
            }
        else
        {
            jTextField6.setVisible(false);
            jComboBox2.setVisible(true);
            jComboBox2.requestFocus();
            }
            }
    }//GEN-LAST:event_jComboBox1KeyPressed

    private void jComboBox4KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBox4KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            jComboBox5.requestFocus();
            //jTextField2.selectAll();
            }
    }//GEN-LAST:event_jComboBox4KeyPressed

    private void jComboBox3KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBox3KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            jComboBox4.requestFocus();
            }
    }//GEN-LAST:event_jComboBox3KeyPressed

    private void jComboBox2KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBox2KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            jTextField1.requestFocus();
            jTextField1.selectAll();
            }
    }//GEN-LAST:event_jComboBox2KeyPressed

    private void jComboBox2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBox2ActionPerformed

    private void jTextField6KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField6KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            jTextField1.requestFocus();
            jTextField1.selectAll();
            }
    }//GEN-LAST:event_jTextField6KeyPressed

    private void jTextField1KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField1KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            jTextField2.requestFocus();
            //jComboBox3.requestFocus();
            }
    }//GEN-LAST:event_jTextField1KeyPressed

    private void jComboBox1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jComboBox1MouseClicked
        // TODO add your handling code here:        
    }//GEN-LAST:event_jComboBox1MouseClicked

    private void jTextField2KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField2KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            jComboBox3.requestFocus();

            }
    }//GEN-LAST:event_jTextField2KeyPressed

    private void jComboBox5KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBox5KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            jTextField3.requestFocus();

            }
    }//GEN-LAST:event_jComboBox5KeyPressed

    private void jTextField3KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField3KeyPressed
        // TODO add your handling code here:
         if(evt.getKeyCode()==evt.VK_ENTER)
         {
            String jcb4=""+jComboBox4.getSelectedItem();
            String jcb5=""+jComboBox5.getSelectedItem();
        if(jcb4.equals("SELECT")==true)
        {
            javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please select 'item name' ","Error.",JOptionPane.ERROR_MESSAGE);
            jComboBox4.requestFocus();
            }
            else{
                    if(jcb5.equals("SELECT")==true)
                    {
                        javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please select 'batch no' ","Error.",JOptionPane.ERROR_MESSAGE);
                        jComboBox5.requestFocus();
                        }
                     else{
                        if(jTextField3.getText().equals("")==true)
                        {                            
                        javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please enter 'item quantity' ","Error.",JOptionPane.ERROR_MESSAGE);
                        jTextField3.requestFocus();
                        }
                        else
                        {
                            double qty,qty1,total1;
                            qty=Double.valueOf(jLabel29.getText());
                            qty1=Double.valueOf(jTextField3.getText());
                            total1=qty-qty1;
                            if((total1>0)||(total1==0))
                            {
                                jTextField4.requestFocus();
                                }
                            else
                                {
                                    javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+" Sell quantity is greter then stock quantity","Error.",JOptionPane.ERROR_MESSAGE);
                                    jTextField3.requestFocus();
                                    }
                        }
                    }

                }
            }
    }//GEN-LAST:event_jTextField3KeyPressed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        String jcb4=""+jComboBox4.getSelectedItem();
        String jcb5=""+jComboBox5.getSelectedItem();
        if(jcb4.equals("SELECT")==true)
        {
            javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please select 'item name' ","Error.",JOptionPane.ERROR_MESSAGE);
            jComboBox4.requestFocus();
            }
            else{
                    if(jcb5.equals("SELECT")==true)
                    {
                        javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please select 'batch no' ","Error.",JOptionPane.ERROR_MESSAGE);
                        jComboBox5.requestFocus();
                        }
                     else{
                        if(jTextField3.getText().equals("")==true)
                        {
                        javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please enter 'item quantity' ","Error.",JOptionPane.ERROR_MESSAGE);
                        jTextField3.requestFocus();
                        }
                        else
                        {
                            int ro=0;
                            ro=dtm.getRowCount();
                            ro=ro+1;
                            String add[]=new String[10];
                            double total,amount=0,am,tot;
                            total=Double.valueOf(jTextField3.getText())*Double.valueOf(jTextField4.getText());
                            add[0]=""+ro;
                            add[1]=""+jComboBox3.getSelectedItem();
                            add[2]=""+jComboBox4.getSelectedItem();
                            add[3]=jTextField2.getText();
                            add[4]=""+jComboBox5.getSelectedItem();
                            add[5]=jLabel12.getText();
                            add[6]=jLabel14.getText();
                            add[7]=jTextField3.getText();
                            add[8]=jTextField4.getText();
                            bd=new BigDecimal(total);
                            add[9]=""+bd.setScale(2,5);
                            dtm.addRow(add);
                            int row=dtm.getRowCount();
                            for(int i=0;i<row;i++)
                            {
                                String to=""+jTable1.getValueAt(i,9);
                                amount=amount+Double.valueOf(to);
                                bd=new BigDecimal(amount);
                                jLabel16.setText(""+bd.setScale(2,5));
                                jLabel20.setText(""+bd.setScale(2,5));
                                //jLabel22.setText(""+bd.setScale(2,5));
                                am=Double.valueOf((""+bd.setScale(0,bd.ROUND_HALF_UP)));
                                tot=am-amount;
                                bd1=new BigDecimal(tot);
                                jLabel22.setText(""+bd1.setScale(2,5));
                                jLabel24.setText(""+bd.setScale(0,bd.ROUND_HALF_UP));
                                jTextField2.setText("");
                                jTextField3.setText("");
                                jTextField4.setText("");
                                jComboBox3.setSelectedIndex(0);
                                jComboBox4.setSelectedIndex(0);
                                jComboBox5.setSelectedIndex(0);
                                jTextField2.requestFocus();
                                }
                            
                       }
                    }

                }       
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jTextField5KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField5KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            double dis1,am,dis,total,ro,to;
            dis1=Double.valueOf(jTextField5.getText());
            total=Double.valueOf(jLabel16.getText());
            dis=total*dis1/100;
            bd=new BigDecimal(dis);
            jLabel18.setText(""+bd.setScale(2,5));
            am=total-dis;
            bd2=new BigDecimal(am);
            jLabel20.setText(""+bd2.setScale(2,5));
            to=Double.valueOf((""+bd2.setScale(0,bd2.ROUND_HALF_UP)));
            ro=to-am;
            bd1=new BigDecimal(ro);
            jLabel22.setText(""+bd1.setScale(2,5));
            //bd3=new BigDecimal(ro);
            jLabel24.setText(""+bd2.setScale(0,bd2.ROUND_HALF_UP));
            }
    }//GEN-LAST:event_jTextField5KeyPressed

    private void jTextField5FocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextField5FocusGained
        // TODO add your handling code here:
        jTextField5.selectAll();
    }//GEN-LAST:event_jTextField5FocusGained

    private void jTextField5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField5ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField5ActionPerformed

    private void jTextField4KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField4KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            String jcb4=""+jComboBox4.getSelectedItem();
        String jcb5=""+jComboBox5.getSelectedItem();
        if(jcb4.equals("SELECT")==true)
        {
            javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please select 'item name' ","Error.",JOptionPane.ERROR_MESSAGE);
            jComboBox4.requestFocus();
            }
            else{
                    if(jcb5.equals("SELECT")==true)
                    {
                        javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please select 'batch no' ","Error.",JOptionPane.ERROR_MESSAGE);
                        jComboBox5.requestFocus();
                        }
                     else{
                        if(jTextField3.getText().equals("")==true)
                        {
                        javax.swing.JOptionPane.showMessageDialog(null,"Error :.."+"\n"+"Please enter 'item quantity' ","Error.",JOptionPane.ERROR_MESSAGE);
                        jTextField3.requestFocus();
                        }
                        else
                        {
                            int ro=0;
                            ro=dtm.getRowCount();
                            ro=ro+1;
                            String add[]=new String[10];
                            double total,amount=0,am,tot;
                            total=Double.valueOf(jTextField3.getText())*Double.valueOf(jTextField4.getText());
                            add[0]=""+ro;
                            add[1]=""+jComboBox3.getSelectedItem();
                            add[2]=""+jComboBox4.getSelectedItem();
                            add[3]=jTextField2.getText();
                            add[4]=""+jComboBox5.getSelectedItem();
                            add[5]=jLabel12.getText();
                            add[6]=jLabel14.getText();
                            add[7]=jTextField3.getText();
                            add[8]=jTextField4.getText();
                            bd=new BigDecimal(total);
                            add[9]=""+bd.setScale(2,5);
                            dtm.addRow(add);
                            int row=dtm.getRowCount();
                            for(int i=0;i<row;i++)
                            {
                                String to=""+jTable1.getValueAt(i,9);
                                amount=amount+Double.valueOf(to);
                                bd=new BigDecimal(amount);
                                jLabel16.setText(""+bd.setScale(2,5));
                                jLabel20.setText(""+bd.setScale(2,5));
                                //jLabel22.setText(""+bd.setScale(2,5));
                                am=Double.valueOf((""+bd.setScale(0,bd.ROUND_HALF_UP)));
                                tot=am-amount;
                                bd1=new BigDecimal(tot);
                                jLabel22.setText(""+bd1.setScale(2,5));
                                jLabel24.setText(""+bd.setScale(0,bd.ROUND_HALF_UP));
                                jTextField2.setText("");
                                jTextField3.setText("");
                                jTextField4.setText("");
                                jComboBox3.setSelectedIndex(0);
                                jComboBox4.setSelectedIndex(0);
                                jComboBox5.setSelectedIndex(0);
                                jTextField2.requestFocus();
                                }

                       }
                    }

                }
            }
    }//GEN-LAST:event_jTextField4KeyPressed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        dtm.setRowCount(0);
        jTextField2.setText("");
        jTextField3.setText("");
        jTextField4.setText("");
        jComboBox3.setSelectedIndex(0);
        jComboBox4.setSelectedIndex(0);
        jComboBox5.setSelectedIndex(0);
        jTextField5.setText("00.00");
        jLabel16.setText("00.00");
        jLabel18.setText("00.00");
        jLabel20.setText("00.00");
        jLabel22.setText("00.00");
        jLabel24.setText("00.00");
        jTextField2.requestFocus();

    }//GEN-LAST:event_jButton3ActionPerformed

    private void jXDatePicker1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jXDatePicker1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jXDatePicker1ActionPerformed

    private void jXDatePicker1KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jXDatePicker1KeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==evt.VK_ENTER)
        {
            jComboBox1.requestFocus();
            }
    }//GEN-LAST:event_jXDatePicker1KeyPressed

    private void jTextField3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField3ActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JComboBox jComboBox2;
    private javax.swing.JComboBox jComboBox3;
    private javax.swing.JComboBox jComboBox4;
    private javax.swing.JComboBox jComboBox5;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JSeparator jSeparator3;
    private javax.swing.JTable jTable1;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JTextField jTextField4;
    private javax.swing.JTextField jTextField5;
    private javax.swing.JTextField jTextField6;
    private org.jdesktop.swingx.JXDatePicker jXDatePicker1;
    // End of variables declaration//GEN-END:variables
    javax.swing.table.DefaultTableModel dtm;
    javax.swing.JTextField jtf;
    private int n=0;
    BigDecimal bd,bd1,bd2,bd3,bd4;
    int billno=0;
}
